000100161107CREATE OR REPLACE PROCEDURE BBIWEB.ST_CLINE
000200160824   (IN ATRANSFERID INT,ALINESEQ  INT, ATRNCOMMENT CHAR(256),
000300170201    AUSERPROF CHAR(20))
000400160824
000500160824
000600160824LANGUAGE SQL
000700160824
000800160824IF EXISTS(SELECT * FROM BBIWEB.BBP170B WHERE TRANSFERID   = ATRANSFERID
000900160824AND   LINESEQ      = ALINESEQ)
001000160824
001100160824THEN
001200160824
001300160824UPDATE BBIWEB.BBP170B
001400160824  SET
001500160824       TRANSFERID = ATRANSFERID,
001600160824       LINESEQ = ALINESEQ,
001700160824       TRNCOMMENT = ATRNCOMMENT,
001800160824       CHANGEDTE = NOW(),
001900160824       CHANGEPRF = AUSERPROF
002000160824
002100160824WHERE TRANSFERID   = ATRANSFERID
002200160824AND   LINESEQ      = ALINESEQ;
002300160824
002400160824ELSE
002500160824   INSERT INTO BBIWEB.BBP170B
002600160824         (TRANSFERID,
002700160824          LINESEQ,
002800160824          TRNCOMMENT,
002900160824          CREATEDTE,
003000160824          CREATEPRF)
003100160824   VALUES(ATRANSFERID,
003200160824          ALINESEQ,
003300160824          ATRNCOMMENT,
003400160824          NOW(),
003500160824          AUSERPROF);
003600160824   END IF
